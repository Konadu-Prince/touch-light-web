(()=>{var i=document.getElementById("lightSlider"),g=document.getElementById("intensityLabel"),y=document.getElementById("lightDisplay"),a=document.getElementById("copyLinkBtn"),h=document.getElementById("resetBtn"),o=document.getElementById("intensityInput"),c=document.getElementById("themeToggleBtn"),u="light-intensity",d="theme-preference";function l(e,t,n){return Math.max(t,Math.min(n,e))}function r(e){let t=l(Number(e)||0,0,255);i.value=String(t),i.setAttribute("aria-valuenow",String(t)),g.textContent=`Light Intensity: ${t}`,y.style.backgroundColor=`rgb(${t}, ${t}, ${t})`,o&&(o.value=String(t));try{localStorage.setItem(u,String(t))}catch{}let n=new URL(window.location.href);n.searchParams.set("i",String(t)),window.history.replaceState({},"",n)}function v(){let t=new URL(window.location.href).searchParams.get("i");if(t!==null)return l(Number(t),0,255);try{let n=localStorage.getItem(u);if(n!==null)return l(Number(n),0,255)}catch{}return 0}i.addEventListener("input",()=>{r(i.value)});o?.addEventListener("input",()=>{r(o.value)});a?.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(window.location.href),a.textContent="Copied!",setTimeout(()=>a.textContent="Copy link",1200)}catch{}});h?.addEventListener("click",()=>{r(0)});document.querySelectorAll(".preset").forEach(e=>{e.addEventListener("click",()=>{let t=e.getAttribute("data-value");t!=null&&r(Number(t))})});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});r(v());function m(e){let t=document.documentElement;e==="auto"?t.removeAttribute("data-theme"):t.setAttribute("data-theme",e),c&&(c.textContent=`Theme: ${e[0].toUpperCase()}${e.slice(1)}`)}function E(){try{let e=localStorage.getItem(d);if(e==="light"||e==="dark"||e==="auto")return e}catch{}return"auto"}var s=E();m(s);c?.addEventListener("click",()=>{let e=["auto","light","dark"],t=e[(e.indexOf(s)+1)%e.length];s=t;try{localStorage.setItem(d,t)}catch{}m(t)});})();
//# sourceMappingURL=script.js.map
