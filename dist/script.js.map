{
  "version": 3,
  "sources": ["../script.js"],
  "sourcesContent": ["const slider = document.getElementById(\"lightSlider\");\nconst label = document.getElementById(\"intensityLabel\");\nconst display = document.getElementById(\"lightDisplay\");\nconst copyLinkBtn = document.getElementById(\"copyLinkBtn\");\nconst resetBtn = document.getElementById(\"resetBtn\");\nconst intensityInput = document.getElementById(\"intensityInput\");\nconst themeToggleBtn = document.getElementById(\"themeToggleBtn\");\n\nconst STORAGE_KEY = \"light-intensity\";\nconst THEME_KEY = \"theme-preference\"; // 'light' | 'dark' | 'auto'\n\nfunction clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\n\nfunction setIntensity(intensity) {\n  const value = clamp(Number(intensity) || 0, 0, 255);\n  slider.value = String(value);\n  slider.setAttribute(\"aria-valuenow\", String(value));\n  label.textContent = `Light Intensity: ${value}`;\n  display.style.backgroundColor = `rgb(${value}, ${value}, ${value})`;\n  if (intensityInput) intensityInput.value = String(value);\n  try { localStorage.setItem(STORAGE_KEY, String(value)); } catch {}\n  const url = new URL(window.location.href);\n  url.searchParams.set(\"i\", String(value));\n  window.history.replaceState({}, \"\", url);\n}\n\nfunction readInitialIntensity() {\n  const url = new URL(window.location.href);\n  const fromQuery = url.searchParams.get(\"i\");\n  if (fromQuery !== null) return clamp(Number(fromQuery), 0, 255);\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored !== null) return clamp(Number(stored), 0, 255);\n  } catch {}\n  return 0;\n}\n\nslider.addEventListener(\"input\", () => {\n  setIntensity(slider.value);\n});\n\nintensityInput?.addEventListener(\"input\", () => {\n  setIntensity(intensityInput.value);\n});\n\ncopyLinkBtn?.addEventListener(\"click\", async () => {\n  try {\n    await navigator.clipboard.writeText(window.location.href);\n    copyLinkBtn.textContent = \"Copied!\";\n    setTimeout(() => (copyLinkBtn.textContent = \"Copy link\"), 1200);\n  } catch {}\n});\n\nresetBtn?.addEventListener(\"click\", () => {\n  setIntensity(0);\n});\n\ndocument.querySelectorAll('.preset').forEach((btn) => {\n  btn.addEventListener('click', () => {\n    const value = btn.getAttribute('data-value');\n    if (value != null) setIntensity(Number(value));\n  });\n});\n\n// Service worker registration (PWA)\nif (\"serviceWorker\" in navigator) {\n  window.addEventListener(\"load\", () => {\n    navigator.serviceWorker.register(\"/sw.js\").catch(() => {});\n  });\n}\n\n// Initialize\nsetIntensity(readInitialIntensity());\n\n// Theme handling\nfunction applyTheme(theme) {\n  const root = document.documentElement;\n  if (theme === 'auto') {\n    root.removeAttribute('data-theme');\n  } else {\n    root.setAttribute('data-theme', theme);\n  }\n  if (themeToggleBtn) themeToggleBtn.textContent = `Theme: ${theme[0].toUpperCase()}${theme.slice(1)}`;\n}\n\nfunction getInitialTheme() {\n  try {\n    const stored = localStorage.getItem(THEME_KEY);\n    if (stored === 'light' || stored === 'dark' || stored === 'auto') return stored;\n  } catch {}\n  return 'auto';\n}\n\nlet currentTheme = getInitialTheme();\napplyTheme(currentTheme);\n\nthemeToggleBtn?.addEventListener('click', () => {\n  const order = ['auto', 'light', 'dark'];\n  const next = order[(order.indexOf(currentTheme) + 1) % order.length];\n  currentTheme = next;\n  try { localStorage.setItem(THEME_KEY, next); } catch {}\n  applyTheme(next);\n});\n"],
  "mappings": "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",
  "names": ["slider", "label", "display", "copyLinkBtn", "resetBtn", "intensityInput", "themeToggleBtn", "STORAGE_KEY", "THEME_KEY", "clamp", "value", "min", "max", "setIntensity", "intensity", "url", "readInitialIntensity", "fromQuery", "stored", "btn", "applyTheme", "theme", "root", "getInitialTheme", "currentTheme", "order", "next"]
}
