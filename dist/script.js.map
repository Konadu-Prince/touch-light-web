{
  "version": 3,
  "sources": ["../script.js"],
  "sourcesContent": ["const slider = document.getElementById(\"lightSlider\");\nconst label = document.getElementById(\"intensityLabel\");\nconst display = document.getElementById(\"lightDisplay\");\nconst copyLinkBtn = document.getElementById(\"copyLinkBtn\");\nconst resetBtn = document.getElementById(\"resetBtn\");\n\nconst STORAGE_KEY = \"light-intensity\";\n\nfunction clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\n\nfunction setIntensity(intensity) {\n  const value = clamp(Number(intensity) || 0, 0, 255);\n  slider.value = String(value);\n  slider.setAttribute(\"aria-valuenow\", String(value));\n  label.textContent = `Light Intensity: ${value}`;\n  display.style.backgroundColor = `rgb(${value}, ${value}, ${value})`;\n  try { localStorage.setItem(STORAGE_KEY, String(value)); } catch {}\n  const url = new URL(window.location.href);\n  url.searchParams.set(\"i\", String(value));\n  window.history.replaceState({}, \"\", url);\n}\n\nfunction readInitialIntensity() {\n  const url = new URL(window.location.href);\n  const fromQuery = url.searchParams.get(\"i\");\n  if (fromQuery !== null) return clamp(Number(fromQuery), 0, 255);\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored !== null) return clamp(Number(stored), 0, 255);\n  } catch {}\n  return 0;\n}\n\nslider.addEventListener(\"input\", () => {\n  setIntensity(slider.value);\n});\n\ncopyLinkBtn?.addEventListener(\"click\", async () => {\n  try {\n    await navigator.clipboard.writeText(window.location.href);\n    copyLinkBtn.textContent = \"Copied!\";\n    setTimeout(() => (copyLinkBtn.textContent = \"Copy link\"), 1200);\n  } catch {}\n});\n\nresetBtn?.addEventListener(\"click\", () => {\n  setIntensity(0);\n});\n\n// Service worker registration (PWA)\nif (\"serviceWorker\" in navigator) {\n  window.addEventListener(\"load\", () => {\n    navigator.serviceWorker.register(\"/sw.js\").catch(() => {});\n  });\n}\n\n// Initialize\nsetIntensity(readInitialIntensity());\n"],
  "mappings": "MAAA,IAAMA,EAAS,SAAS,eAAe,aAAa,EAC9CC,EAAQ,SAAS,eAAe,gBAAgB,EAChDC,EAAU,SAAS,eAAe,cAAc,EAChDC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAW,SAAS,eAAe,UAAU,EAE7CC,EAAc,kBAEpB,SAASC,EAAMC,EAAOC,EAAKC,EAAK,CAC9B,OAAO,KAAK,IAAID,EAAK,KAAK,IAAIC,EAAKF,CAAK,CAAC,CAC3C,CAEA,SAASG,EAAaC,EAAW,CAC/B,IAAMJ,EAAQD,EAAM,OAAOK,CAAS,GAAK,EAAG,EAAG,GAAG,EAClDX,EAAO,MAAQ,OAAOO,CAAK,EAC3BP,EAAO,aAAa,gBAAiB,OAAOO,CAAK,CAAC,EAClDN,EAAM,YAAc,oBAAoBM,CAAK,GAC7CL,EAAQ,MAAM,gBAAkB,OAAOK,CAAK,KAAKA,CAAK,KAAKA,CAAK,IAChE,GAAI,CAAE,aAAa,QAAQF,EAAa,OAAOE,CAAK,CAAC,CAAG,MAAQ,CAAC,CACjE,IAAMK,EAAM,IAAI,IAAI,OAAO,SAAS,IAAI,EACxCA,EAAI,aAAa,IAAI,IAAK,OAAOL,CAAK,CAAC,EACvC,OAAO,QAAQ,aAAa,CAAC,EAAG,GAAIK,CAAG,CACzC,CAEA,SAASC,GAAuB,CAE9B,IAAMC,EADM,IAAI,IAAI,OAAO,SAAS,IAAI,EAClB,aAAa,IAAI,GAAG,EAC1C,GAAIA,IAAc,KAAM,OAAOR,EAAM,OAAOQ,CAAS,EAAG,EAAG,GAAG,EAC9D,GAAI,CACF,IAAMC,EAAS,aAAa,QAAQV,CAAW,EAC/C,GAAIU,IAAW,KAAM,OAAOT,EAAM,OAAOS,CAAM,EAAG,EAAG,GAAG,CAC1D,MAAQ,CAAC,CACT,MAAO,EACT,CAEAf,EAAO,iBAAiB,QAAS,IAAM,CACrCU,EAAaV,EAAO,KAAK,CAC3B,CAAC,EAEDG,GAAa,iBAAiB,QAAS,SAAY,CACjD,GAAI,CACF,MAAM,UAAU,UAAU,UAAU,OAAO,SAAS,IAAI,EACxDA,EAAY,YAAc,UAC1B,WAAW,IAAOA,EAAY,YAAc,YAAc,IAAI,CAChE,MAAQ,CAAC,CACX,CAAC,EAEDC,GAAU,iBAAiB,QAAS,IAAM,CACxCM,EAAa,CAAC,CAChB,CAAC,EAGG,kBAAmB,WACrB,OAAO,iBAAiB,OAAQ,IAAM,CACpC,UAAU,cAAc,SAAS,QAAQ,EAAE,MAAM,IAAM,CAAC,CAAC,CAC3D,CAAC,EAIHA,EAAaG,EAAqB,CAAC",
  "names": ["slider", "label", "display", "copyLinkBtn", "resetBtn", "STORAGE_KEY", "clamp", "value", "min", "max", "setIntensity", "intensity", "url", "readInitialIntensity", "fromQuery", "stored"]
}
